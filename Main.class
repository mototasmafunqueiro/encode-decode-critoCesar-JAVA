import java.util.Scanner;


public class Main {

    public static void main(String[] args) {
    	Scanner teste = new Scanner(System.in);
    	System.out.println("DIGITE O QUE DESEJA FAZER");
    	System.out.println("CODE = 1");
    	System.out.println("DECODE = 2");
    	int a = teste.nextInt();
    	
    	
    	if(a==1) {
    		System.out.println("CODE = 1");
    		Scanner t = new Scanner(System.in); // T CORRESPONDE AO TEXTO INICIAL
            Scanner key = new Scanner(System.in); // LEITURA DA KEY QUE CORRESPONDE A CHAVE
            char ascii; // ARMAZENA O CALCULO QUE SERA CONRESPONDENTE A TABELA ASC
            char x, y; // variaveis de controle
            int alfabeto = 26; // VARIAVEL QUE CONTEM QTD DE LETRAS DO ALFABETO
            System.out.println("Digite a mensagem: ");
            String mens = t.nextLine(); // RECEBE O TEXTO DA MENSAGEM
            System.out.println("Digite a CHAVE: ");//chave será um número que deslocará a mensagem pela sua quantidade (msg 'a' e chave = 3, cifra= 'c')
            int chave = key.nextInt(); // RECEBE O TEXTO DA KEY
            while (chave >= alfabeto) {//chave tem que ter o tamanho do alfabeto
                chave = chave - alfabeto; // O RETORNO ENTAO É CHAVE - ALFABETO
            }
            for (int i = 0; i < mens.length(); i++) {
             //Tratamento Letras minusculas  
                if (mens.charAt(i) >= 97 && mens.charAt(i) <= 122) {
                	// LETRAS MINUSCULAS
                    if ((int) (mens.charAt(i) + chave) > 122) {
                        x = (char) (mens.charAt(i) + chave);
                        y = (char) (x - 122);
                        ascii = (char) (96 + y);
                        System.out.print(ascii );
                    } else {
                        ascii = (char) (mens.charAt(i) + chave);
                        System.out.print(ascii );

                    }
                }
            }	
    	}
    	else if(a == 2 )
    	{
    		System.out.println("DECODE = 2");
    		Scanner t = new Scanner(System.in); // T CORRESPONDE AO TEXTO INICIAL
            Scanner key = new Scanner(System.in); // LEITURA DA KEY QUE CORRESPONDE A CHAVE
            char ascii; // ARMAZENA O CALCULO QUE SERA CONRESPONDENTE A TABELA ASC
            char x, y; // variaveis de controle
            int alfabeto = 26; // VARIAVEL QUE CONTEM QTD DE LETRAS DO ALFABETO
            System.out.println("Digite a mensagem: ");
            String mens = t.nextLine(); // RECEBE O TEXTO DA MENSAGEM
            System.out.println("Digite a CHAVE: ");//chave será um número que deslocará a mensagem pela sua quantidade (msg 'a' e chave = 3, cifra= 'c')
            int chave = key.nextInt(); // RECEBE O TEXTO DA KEY
            while (chave >= alfabeto) {//chave tem que ter o tamanho do alfabeto
                chave = chave - alfabeto; // O RETORNO ENTAO É CHAVE - ALFABETO
            }
            for (int i = 0; i < mens.length(); i++) {
             //Tratamento Letras minusculas  
                if (mens.charAt(i) >= 97 && mens.charAt(i) <= 122) {
                	// LETRAS MINUSCULAS
                    if ((int) (mens.charAt(i) + chave) > 122) {
                        x = (char) (mens.charAt(i) - chave);
                        y = (char) (x + 122);
                        ascii = (char) (96 - y);
                        System.out.print(ascii );
                    } else {
                        ascii = (char) (mens.charAt(i) - chave);
                        System.out.print(ascii );

                    }
                }
            }	
    	}
    	else { System.out.println("ERRO"); }
        }
    }
